package TestSuite;

import java.util.concurrent.TimeUnit;

import org.apache.bcel.generic.Select;
import org.junit.Assert;
import org.junit.Test;
import org.openqa.selenium.Alert;
import org.openqa.selenium.By;
import LibraryPackage.Project_Interface_Definations;

public class TC_597_Publisher_CreateProposal_DescriptionFieldValidation extends Project_Interface_Definations {

@Test
  public void CreateProposal_NameFieldValidation() throws Exception {
	  	//LogIn_As_Publisher("test_bwilliams@businessinsider.com", "test");
		LogIn_As_Publisher_Using_Admin_Rights("admin@pubmatic.com","test","24011");
		
	    //driver.findElement(By.xpath("//a[@id='pmptablink']")).click();
	    //driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);    
	    //driver.findElement(By.xpath("//a[@href='?viewName=dealManagement']")).click(); 
    
	    driver.findElement(By.xpath("//a[text()='Proposals']")).click();
		driver.findElement(By.xpath("//button[text()='+ Add a New Proposal']")).click();		
		Assert.assertTrue("Text 'Add a New Proposal' is not present", (driver.findElement(By.xpath("//label[@class='compLabel header1']")).getText()).equals("Add a New Proposal"));
		
		driver.findElement(By.name("name")).sendKeys("TEST_PROPOSAL");
		driver.findElement(By.name("terms")).sendKeys("TEST_TERM");		
		driver.findElement(By.xpath("//button[text()='Next']")).click();
		String AlertMssg = driver.findElement(By.xpath("//label[@class='compLabel msgHolder']")).getText();		
		Assert.assertTrue("Error: Empty Proposal description error msg not displayed",AlertMssg.contains("Please enter proposal description."));		
		
	    //Cleaning Code
	    driver.quit();

  }

  
}
