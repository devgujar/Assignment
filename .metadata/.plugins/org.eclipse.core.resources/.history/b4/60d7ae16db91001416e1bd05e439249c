package TestSuite.TC001_Verify_Sigup_on_rtMedia_NewUser;
import java.io.File;
import java.io.FileInputStream;
import java.io.InputStream;
import java.util.Hashtable;
import junit.framework.Assert;
import org.apache.bcel.generic.Select;
import org.apache.commons.io.FileUtils;
import org.junit.Test;
import org.openqa.selenium.By;
import org.testng.asserts.Assertion;

import LibraryPackage.*;

public class TC001_Verify_Sigup_on_rtMedia_NewUser{
	
	@Test
	public void TC001_Verify_Sigup_on_rtMedia_NewUser() throws Exception {
		
		rtmediaPageBrowser rtmediaPage = new rtmediaPageBrowser();		
		
		rtmediaPage.Start_Home_Page();		
		rtmediaPage.Navigate_to_SignUp_Page();
		
		rtmediaPage.enterSignUp_Form_details_from_excell_sheet(test_data_sheet_path);
		//Get Test Data from excell Sheet
		String test_data_sheet_path="src/TestSuite/TC001_Verify_Sigup_on_rtMedia_NewUser/TC001_Verify_Sigup_on_rtMedia_NewUser.xls";
		Hashtable<String, String> excellData =rtmediaPage.GetExcell_Data_As_Hashtable(test_data_sheet_path);
			
		rtmediaPage.driver.findElement(By.id("signup_username")).sendKeys(excellData.get("signup_username"));
		rtmediaPage.driver.findElement(By.id("signup_email")).sendKeys(excellData.get("signup_email"));
		rtmediaPage.driver.findElement(By.id("signup_password")).sendKeys(excellData.get("signup_password"));		    
		rtmediaPage.driver.findElement(By.id("signup_password_confirm")).sendKeys(excellData.get("signup_password"));
		    
		rtmediaPage.driver.findElement(By.id("field_1")).sendKeys(excellData.get("Name"));
		rtmediaPage.driver.findElement(By.id("field_2")).sendKeys(excellData.get("city"));
		rtmediaPage.driver.findElement(By.xpath("//option[@value='"+  excellData.get("gender") + "']")).click();		    
		rtmediaPage.driver.findElement(By.xpath("//select[@id='field_4_day']//option[@value='"+excellData.get("birthdate_field_4_day")+"']")).click();  
		rtmediaPage.driver.findElement(By.xpath("//select[@id='field_4_month']//option[@value='"+excellData.get("birthdate_field_4_month")+"']")).click();  
		rtmediaPage.driver.findElement(By.xpath("//select[@id='field_4_year']//option[@value='"+excellData.get("birthdate_field_4_year")+"']")).click();  
		rtmediaPage.driver.findElement(By.name("bp-security-check")).sendKeys(String.valueOf(rtmediaPage.Get_security_Answer_for_SignUp_Page()));
		rtmediaPage.driver.findElement(By.xpath("//input[@id='signup_submit']")).click();	    
	    	
    	//Verify success Message
   // 	String expected="You have successfully created your account! To begin using this site you will need to activate your account via the email we have just sent to your address.";	    	
  //  	String actual=driver.findElement(By.xpath("//form[@id='signup_form']/p")).getText();
 //   	Assert.assertEquals(expected, actual);
    	
    	Assert.assertTrue(rtmediaPage.VerifyText("You have successfully created your account! To begin using this site you will need to activate your account via the email we have just sent to your address."));
    	

	  }

}
